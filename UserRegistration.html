<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>注册</title>
		<link rel="stylesheet" href="UserReg/UserRegistration.css" type="text/css">
		<link rel="stylesheet" href="comm/commonality.css" type="text/css">
	</head>
	<body>
		<header>
			<ul class="Nav Logo">
				<a href="homepage.html">
					<li class="iconfont icon-yijia"></li>
				</a>
			</ul>
			<ul class="Nav Font">
				<a href="" class="Underline">
					<li>OnePlus 7 Pro</li>
				</a>
				<a href="" class="Underline">
					<li>OnePlus 7</li>
				</a>
				<a href="shop.html" class="Underline Shop" id="Shop">
					<li>商城</li>
				</a>
				<a href="" class="Underline">
					<li>品牌</li>
				</a>
				<a href="" class="Underline">
					<li>服务</li>
				</a>
				<a href="" class="Underline">
					<li>论坛</li>
				</a>
				<a href="" class="Underline">
					<li>零售店</li>
				</a>
			</ul>
			<ul class="Nav Icon">
				<a href="Userlogin.html" class="Underline" id="Yonghu">
					<li class="iconfont icon-yonghu"></li>
				</a>
				<a href="Shopcar.html" class="Underline" id="Shopcar">
					<li class="iconfont icon-gouwuchekong"></li>
				</a>
				<a href="">
					<li class="iconfont icon-sousuo"></li>
				</a>
			</ul>
			<div class="HideBox" >
				<ul class="Hide">
					<a href="" class="FirHide">
						<li class="iconfont icon-shouji"><span>手机</span></li>
					</a>
					<a href="">
						<li class="iconfont icon-sousuo"><span>耳机</span></li>
					</a>
					<a href="">
						<li class="iconfont icon-shoujike"><span>壳/膜</span></li>
					</a>
					<a href="">
						<li class="iconfont icon-shuma-shujuxian"><span>适配器/数据线</span></li>
					</a>
					<a href="">
						<li class="iconfont icon-shujuxian"><span>套装</span></li>
					</a>
					<a href="" class="LastHide">
						<li class="iconfont icon-beibao"><span>生活馆</span></li>
					</a>
				</ul>
			</div>
			<div class="Yonghucontent">
				<ul class="Content">
					<a href="" class="Yonghulist">
						<li>订单</li>
					</a>
					<a href="" class="Yonghulist">
						<li>账户</li>
					</a>
					<a href="" class="Yonghulist">
						<li>推荐有礼</li>
					</a>
					<a class="Denglu">
						<li>登录</li>
					</a>
				</ul>
			</div>
			<div class="Shopcar">
				<div class="Shopcarshop">
					<span>您的购物车里没有商品!</span>
				</div>
				<div class="Shopcarmoney">
					<a href="" class="Bback"><span class="bback"></span><i>去购物</i></a>
				</div>
			</div>
		</header>
		<section>
		<div class="Registration">
			<p>注册</p>
			<div class="Tel">
				<span class="TelHeader">+86</span><input class="TelNum" type="text" placeholder="手机号"/>
			</div>
			<span class="TelConditiononetwo">用户已存在</span>
			<span class="TelConditionone">请输入11位手机号</span>
			<input class="Paw" type="password" placeholder="密码"/>
			<div class="PawConditionone"><span class="Dback"></span>包含6-16字符</div>
			<div class="PawConditionone"><span class="Dback"></span>包含数字</div>
			<div class="PawConditionone"><span class="Dback"></span>包含字母</div> 
			<button class="Creation Eback"><span class="eback"></span><i>创建账号</i></button>
		</div>
		<div class="HD">
			<h1>注册成功</h1>
			<a href="Userlogin.html">登录</a>
		</div>
		</section>
		<footer>
			
		</footer>
	</body>
</html>
<script src="JQuery.js"></script>
<script>
	let cook=document.cookie;
	if(cook="name="){
				$(".Yonghucontent .Denglu li").text("登录")
	}else{
		$(".Yonghucontent .Denglu li").text("退出登录")
	}	
	$(".Yonghucontent .Denglu li").click(function(){
		let cook=document.cookie;
	if(cook="name="){
				$(".Yonghucontent .Denglu li").text("登录")
	}else{
		$(".Yonghucontent .Denglu li").text("退出登录")
	}	
		document.cookie='name=;expires=-1';
	})
	$(function() {
			$(".Bback").mouseover(function() {
				$(".bback").stop().animate({
					width: "330px",
				}, 200)
			})
			$(".Bback").mouseout(function() {
				$(".bback").stop().animate({
					width: "0px",
				}, 200)
			})
		})
	
		function Fun(a, b) {
			let shop = document.getElementById(a);
			let Hidebox = document.getElementsByClassName(b)[0];
			shop.onmouseover = function() {
				Hidebox.style.display = "block";
				Hidebox.style.zIndex = "9999";
			}
			Hidebox.onmouseover = function() {
				Hidebox.style.display = "block";
				Hidebox.style.zIndex = "9999";
			}
			Hidebox.onmouseout = function() {
				Hidebox.style.display = "none";
			}
			shop.onmouseout = function() {
				Hidebox.style.display = "none";
			}
		}
		Fun("Shop", "HideBox");
		Fun("Yonghu", "Yonghucontent");
		Fun("Shopcar", "Shopcar");
	$(function(){
		$("footer").load("comm/commfooter.html")
	});
	$(function() {
		$(".Eback").mouseover(function() {
			$(".eback").stop().animate({
				width: "310px",
			}, 200)
		});
		$(".Eback").mouseout(function() {
			$(".eback").stop().animate({
				width: "0px",
			}, 200)
		});
	});
	$(function(){
		let tel=/^\d{11}$/;
		$(".TelNum").focus(function(){
			$(".Tel").css({
				border:"1px gray solid"
			});
		});
		$(".TelNum").blur(function(){
			if($(".TelNum").val()!==""){
			$.ajax({
				url:"UserReg/Userceshi.php",
				type:"get",
				data:{
					"iD":$(".TelNum").val(),
				},
				success:function(str){
					if(str==1){
						$(".TelConditiononetwo").css({
							display:"block"
						})
					}else{
						$(".TelConditiononetwo").css({
							display:"none"
						})
					}
				}
			})
			}
			if(tel.test($(".TelNum").val())||$(".TelNum").val()==""){
				$(".TelConditionone").css({display:"none"})
				$(".Tel").css({
					border:"1px #CCCCCC solid"
				});
			}else{
				$(".TelConditionone").css({display:"block"})
				$(".Tel").css({
					border:"1px red solid"
				});
			}
		});
	// 验证手机号
		$(".Paw").focus(function(){
			$(".Paw").css({
				border:"1px gray solid"
			});	
			if(tel.test($(".TelNum").val())){
				$(".TelConditionone").css({display:"none"})
				$(".Tel").css({
					border:"1px #CCCCCC solid"
				});
			}else{
				$(".TelConditionone").css({display:"block"})
				$(".Tel").css({
					border:"1px red solid"
				});
			}
		});
	//验证密码
		let str=/^.{6,16}$/;
		let num=/\d/;
		let zimu=/[A-Za-z]/;
		$(".Paw").keyup(function(){
			if(str.test($(this).val())){
				$(".PawConditionone").eq(0).css({
					color:"green"
				});
				$(".Dback").eq(0).css({
					background:" url(img/Dback2.png) no-repeat 50%",
					backgroundPositionY: "7px"
				});
			}else{
				$(".PawConditionone").eq(0).css({
					color:"black"
				});
				$(".Dback").eq(0).css({
					background:" url(img/Dback.png) no-repeat 50%",
					backgroundPositionY: "7px"
				});
			}
			if(num.test($(this).val())){
				$(".PawConditionone").eq(1).css({
					color:"green"
				});
				$(".Dback").eq(1).css({
					background:" url(img/Dback2.png) no-repeat 50%",
					backgroundPositionY: "7px"
				});
			}else{
				$(".PawConditionone").eq(1).css({
					color:"black"
				});
				$(".Dback").eq(1).css({
					background:" url(img/Dback.png) no-repeat 50%",
					backgroundPositionY: "7px"
				});
			}
			if(zimu.test($(this).val())){
				$(".PawConditionone").eq(2).css({
					color:"green"
				});
				$(".Dback").eq(2).css({
					background:" url(img/Dback2.png) no-repeat 50%",
					backgroundPositionY: "7px"
				});
			}else{
				$(".PawConditionone").eq(2).css({
					color:"black"
				});
				$(".Dback").eq(2).css({
					background:" url(img/Dback.png) no-repeat 50%",
					backgroundPositionY: "7px"
				});
			}
			if(!(zimu.test($(this).val())&&num.test($(this).val())&&str.test($(this).val()))){
					$(".PawConditionone").css({
						display:"block"
					});	
			}
		});
		$(".Paw").blur(function(){
			if(zimu.test($(this).val())&&num.test($(this).val())&&str.test($(this).val())){
				$(".PawConditionone").css({
					display:"none"
				});
			}else{
					$(".PawConditionone").css({
						display:"block"
					});	
			}
			$(this).css({
				border:"1px #CCCCCC solid"
			});
		});
		//创建账号
		$(".Creation").click(function(){
			if(zimu.test($(".Paw").val())&&num.test($(".Paw").val())&&str.test($(".Paw").val())&&tel.test($(".TelNum").val())){
				$.ajax({
					url:"UserReg/User.php",
					type:"get",
					data:{
						"iD":$(".TelNum").val(),
						"pAW":$(".Paw").val()
					},
					success:function(str){
						if(str==0){
							$(".Registration").css({
								display:"none"
							})
							$(".HD").css({
								display:"block"
							})
						}
					}
				})
			}
		});
	});
</script>